<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Aketi Raghavendra Varma — Portfolio</title>

  <!-- Bootstrap (for convenience layout) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#020617;
      --accent:#fbbf24;
      --muted:#9ca3af;
      --text:#ffffff;
      --card-bg: linear-gradient(145deg, rgba(9,12,20,.88), rgba(6,8,12,.86));
      --ring: conic-gradient(from 0deg,#fbbf24,#f97316,#22d3ee,#6366f1,#fbbf24);
    }
    html,body{height:100%;margin:0;background:radial-gradient(circle at top,#071023 0,#020617 60%);font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,sans-serif;color:var(--text);-webkit-font-smoothing:antialiased}
    a{color:inherit;text-decoration:none}

    /* NAV */
    .nav{position:fixed;top:0;left:0;right:0;height:64px;display:flex;align-items:center;justify-content:center;z-index:60;background:linear-gradient(180deg,rgba(7,10,20,.95),rgba(7,10,20,.8));backdrop-filter:blur(6px);border-bottom:1px solid rgba(255,255,255,0.02)}
    .nav-inner{width:min(1120px,100%);display:flex;align-items:center;justify-content:space-between;padding:0 16px}
    .logo{font-weight:800;letter-spacing:.06em;text-transform:uppercase;font-size:13px;color:var(--muted)}
    .logo span{color:var(--accent)}
    .nav-links{display:flex;gap:18px;align-items:center}
    .nav-links a{padding:6px 10px;border-radius:999px;color:var(--muted);transition:.12s}
    .nav-links a:hover{color:var(--text);background:rgba(255,255,255,0.02)}
    .nav-cta{font-size:13px;padding:6px 12px;border-radius:999px;border:1px solid rgba(255,255,255,.06);background:rgba(251,191,36,0.12);color:var(--accent)}

    /* page */
    .page{width:min(1120px,100%);margin:0 auto;padding:110px 16px 56px}
    section{padding-block:48px;border-bottom:1px solid rgba(255,255,255,0.02);position:relative}
    section:last-of-type{border-bottom:none;padding-bottom:24px}
    .section-title{font-size:12px;letter-spacing:.18em;text-transform:uppercase;color:var(--muted);margin-bottom:10px}
    .section-heading{font-size:24px;margin-bottom:18px;display:flex;align-items:center;gap:12px;color:var(--text)}

    /* avatar */
    .avatar-shell{display:flex;justify-content:center;align-items:center;perspective:1200px}
    .avatar-ring{position:relative;width:320px;height:320px;display:flex;justify-content:center;align-items:center;border-radius:50%;padding:10px;background:var(--ring);transition:box-shadow .22s ease,transform .22s ease;will-change:transform;transform-style:preserve-3d;cursor:pointer;outline:none}
    .avatar-ring::before{content:"";position:absolute;inset:12px;border-radius:50%;background:radial-gradient(circle at top,#071023 0,#020617 65%);z-index:0}
    .avatar-glow{position:absolute;inset:10px;border-radius:50%;pointer-events:none;background:radial-gradient(circle at var(--gx,50%) var(--gy,50%),rgba(255,255,255,0.04),transparent 30%);mix-blend-mode:overlay;z-index:1;transition:background-position 120ms linear}
    .avatar{position:relative;width:280px;height:280px;border-radius:50%;object-fit:cover;box-shadow:0 18px 60px rgba(0,0,0,.6);z-index:2;transition:transform .22s cubic-bezier(.2,.9,.2,1);transform-style:preserve-3d;backface-visibility:hidden}
    .avatar:hover{transform:translateZ(22px) scale(1.02)}
    @media (max-width:900px){ .avatar-ring{width:240px;height:240px} .avatar{width:200px;height:200px} }

    /* mini avatars */
    .mini-avatar{--size:72px;display:inline-flex;align-items:center;justify-content:center;width:var(--size);height:var(--size);border-radius:999px;padding:6px;background:var(--ring);box-shadow:0 10px 30px rgba(2,6,23,.6);position:relative;flex-shrink:0;transition:transform .18s ease,box-shadow .18s ease;cursor:pointer;margin-left:6px}
    .mini-inner{width:100%;height:100%;border-radius:50%;padding:6px;background:radial-gradient(circle at top,#071023 0,#021018 65%);display:flex;align-items:center;justify-content:center;overflow:hidden}
    .mini-inner img{width:100%;height:100%;object-fit:cover;border-radius:50%}
    @media (max-width:900px){ .mini-avatar{--size:56px} }

    /* cards/text */
    .grid-2{display:grid;grid-template-columns:repeat(2,1fr);gap:18px}
    .card{border-radius:12px;background:var(--card-bg);border:1px solid rgba(255,255,255,0.03);padding:16px 18px;font-size:14px;transition:transform .15s ease,box-shadow .15s ease,border-color .15s ease;color:var(--text)}
    .card:hover{transform:translateY(-6px);box-shadow:0 26px 60px rgba(2,6,23,.6);border-color:rgba(255,255,255,.06)}
    .card h3{margin:4px 0 8px;font-size:18px}
    .card-meta{font-size:13px;color:rgba(255,255,255,0.85);margin-bottom:8px;font-weight:600}
    .card p{color:var(--text);line-height:1.5}
    ul.clean{list-style:none;padding-left:0;margin:0}
    ul.clean li::before{content:"• ";color:var(--accent)}
    ul.clean li{margin-bottom:6px;font-size:14px;color:var(--text)}

    /* ensure project meta and small text are visible */
    .small-muted{color:rgba(255,255,255,0.7);font-size:13px}
    .tag-row .tag{color:var(--muted);border-color:rgba(255,255,255,0.06) }

    /* projects toolbar */
    .projects-toolbar{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-bottom:18px}
    .filter-btn{padding:8px 14px;border-radius:10px;border:1px solid rgba(255,255,255,.06);background:transparent;color:var(--muted);cursor:pointer;font-weight:600}
    .filter-btn.active{background:var(--accent);color:#071023}
    .project-card{transition:opacity .22s ease,transform .22s ease}
    .hidden{opacity:0;transform:translateY(6px);pointer-events:none;display:none}

    /* thumbnails */
    .project-thumb{width:100%;height:160px;object-fit:cover;border-radius:10px;margin-bottom:12px;border:1px solid rgba(255,255,255,0.03);display:block}

    footer{font-size:13px;color:var(--muted);text-align:center;padding:24px 8px;margin-top:28px;border-top:1px solid rgba(255,255,255,.02)}
    .contact-card a{color:#9ad0ff}
  </style>
</head>
<body>

  <header class="nav">
    <div class="nav-inner">
      <div class="logo">RAGHAVENDRA<span>.</span><span style="color:var(--accent)">AI</span></div>
      <nav class="nav-links">
        <a href="#about">ABOUT</a>
        <a href="#skills">SKILLS</a>
        <a href="#projects">PROJECTS</a>
        <a href="#experience">EXPERIENCE</a>
        <a href="#education">EDUCATION</a>
        <a href="#contact" class="nav-cta">CONTACT</a>
      </nav>
    </div>
  </header>

  <main class="page" id="home">
    <!-- HERO -->
    <section id="hero">
      <div style="display:grid;grid-template-columns:1.5fr 1fr;gap:28px;align-items:center">
        <div>
          <div style="font-size:12px;color:var(--muted);letter-spacing:.18em;text-transform:uppercase">Hello, I am</div>
          <h1 style="font-size:clamp(32px,4.5vw,44px);margin:8px 0;color:var(--accent)">Aketi Raghavendra Varma</h1>
          <div style="color:var(--muted);font-size:15px;margin-bottom:12px">AI / ML Enthusiast · Computer Vision · Time-Series Forecasting</div>
          <p style="max-width:42rem;color:var(--text);line-height:1.5">
            Highly passionate fresher aiming to become an AI/ML Engineer. I build practical ML systems — computer vision solutions, forecasting pipelines, and full-stack ML apps that work in the real world.
          </p>

          <div style="display:flex;gap:10px;margin-top:14px">
            <a href="#contact" class="filter-btn" style="border-radius:999px">Contact Me</a>
            <a href="#projects" class="filter-btn" style="border-radius:999px">View Projects</a>
            <a href="Resume.pdf" class="filter-btn" style="border-radius:999px" target="_blank" rel="noopener noreferrer">Resume</a>
          </div>

          <div style="margin-top:14px;color:var(--muted)">Find me at:
            <a href="https://www.linkedin.com/in/raghav-varma" target="_blank" rel="noopener noreferrer" style="margin-left:8px;color:var(--text)">LinkedIn</a>
            <a href="https://github.com/Raghavendra-varma-0909" target="_blank" rel="noopener noreferrer" style="margin-left:8px;color:var(--text)">GitHub</a>
          </div>
        </div>

        <div class="avatar-shell" style="justify-content:center">
          <div class="avatar-ring" id="avatarRing" tabindex="0" role="button" aria-label="Open avatar modal">
            <div class="avatar-glow" id="avatarGlow" style="--gx:50%;--gy:50"></div>
            <img src="avatar.png" alt="Aketi Raghavendra Varma" class="avatar" id="avatarImg" draggable="false">
          </div>
        </div>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about" data-avatar="about0.png">
      <div class="section-title">ABOUT ME</div>
      <div class="section-heading">
        Engineer who loves building with data &amp; code.
        <span class="mini-avatar" title="Thoughtful badge" data-avatar="about0.png">
          <span class="mini-inner"><img src="about0.png" alt="about mini"></span>
        </span>
      </div>

      <p style="max-width:48rem;color:var(--text)">
        I am currently pursuing a B.Tech in Computer Science &amp; Engineering (AI &amp; ML) at Sreenidhi Institute of Science and Technology (2022–2026). I have hands-on experience in computer vision, time-series modeling and building end-to-end ML systems through internships and projects. I focus on writing clean code and delivering solutions that create real impact.
      </p>
      <p style="max-width:48rem;color:var(--text)">Location: Hyderabad, Telangana · Phone: +91 9121811030 · Email: <a href="mailto:aketiraghavendravarma@gmail.com" rel="noopener noreferrer">aketiraghavendravarma@gmail.com</a></p>
    </section>

    <!-- SKILLS -->
    <section id="skills" data-avatar="home.png">
      <div class="section-title">SKILLS</div>
      <div class="section-heading">
        Tech stack I use to build things.
        <span class="mini-avatar" title="Focused badge" data-avatar="home.png">
          <span class="mini-inner"><img src="home.png" alt="skills mini"></span>
        </span>
      </div>

      <div class="grid-2">
        <div class="card">
          <h3>Machine Learning &amp; Data</h3>
          <div class="card-meta">Models, training, evaluation &amp; deployment</div>
          <ul class="clean">
            <li>Supervised &amp; unsupervised ML</li>
            <li>Deep learning with CNNs</li>
            <li>Time series forecasting &amp; modeling</li>
            <li>Feature engineering &amp; data cleaning</li>
          </ul>
        </div>

        <div class="card">
          <h3>Development &amp; Tools</h3>
          <div class="card-meta">Full-stack ML &amp; automation</div>
          <ul class="clean">
            <li>APIs using Flask / Streamlit</li>
            <li>Power BI interactive dashboards</li>
            <li>Git &amp; GitHub workflows</li>
            <li>Python, SQL, Jupyter</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- PROJECTS -->
    <section id="projects" data-avatar="projects.png">
      <div class="section-title">PROJECTS</div>
      <div class="section-heading">
        Some things I've been working on.
        <span class="mini-avatar" title="Projects badge" data-avatar="projects.png">
          <span class="mini-inner"><img src="projects.png" alt="projects mini"></span>
        </span>
      </div>

      <div class="projects-toolbar">
        <button class="filter-btn active" data-filter="all">All</button>
        <button class="filter-btn" data-filter="machine-learning">Machine Learning</button>
        <button class="filter-btn" data-filter="data-science">Data Science</button>
        <button class="filter-btn" data-filter="web-development">Web Development</button>
      </div>

      <div class="grid-2" style="grid-template-columns:repeat(3,1fr);gap:18px">
        <!-- Vision -->
        <article class="card project-card" data-category="machine-learning">
          <img class="project-thumb" src="vision_ai.png" alt="Vision AI thumbnail">
          <h3>Vision-Based Workplace Efficiency Analyzer</h3>
          <div class="card-meta">Computer Vision · Deep Learning</div>
          <p>Vision-based system using CNNs to detect idle employee behaviour and compute workplace efficiency for automated analytics.</p>
          <p style="margin-top:10px"><a href="https://github.com/Raghavendra-varma-0909/Vision-Based-Workplace-Efficiency-Analyzer" target="_blank" rel="noopener noreferrer">GitHub →</a></p>
        </article>

        <!-- Mental -->
        <article class="card project-card" data-category="data-science">
          <img class="project-thumb" src="mental.png" alt="Mental Resilience thumbnail">
          <h3>Mental Resilience Simulator</h3>
          <div class="card-meta">Streamlit · NLP · Sentiment Analysis</div>
          <p>Streamlit-based emotional-tracking & journaling assistant with sentiment scoring and reflection prompts.</p>
          <p style="margin-top:10px">
            <a href="https://github.com/Raghavendra-varma-0909/Mental-Resilience-Simulator" target="_blank" rel="noopener noreferrer">GitHub →</a>
            &nbsp;·&nbsp;
            <a href="https://mentalsimulator.streamlit.app/" target="_blank" rel="noopener noreferrer">Live Demo →</a>
          </p>
        </article>

        <!-- AI Culture -->
        <article class="card project-card" data-category="data-science">
          <img class="project-thumb" src="ai_culture.png" alt="AI Cultural thumbnail">
          <h3>AI-Based Cultural Preservation Prototype</h3>
          <div class="card-meta">NLP · Audio Transcription · Image Gen</div>
          <p>Prototype for transcribing and summarizing traditional oral stories, building searchable archives and visual records.</p>
          <p style="margin-top:10px">
            <a href="https://github.com/Raghavendra-varma-0909/AI-based_cultural_preservation_prototype" target="_blank" rel="noopener noreferrer">GitHub →</a>
            &nbsp;·&nbsp;
            <a href="https://aiculturepreservation.streamlit.app/" target="_blank" rel="noopener noreferrer">Live Demo →</a>
          </p>
        </article>

        <!-- Dashboard -->
        <article class="card project-card" data-category="data-science">
          <img class="project-thumb" src="dashboard.png" alt="Retail Dashboard thumbnail">
          <h3>Retail Store Sales Dashboard</h3>
          <div class="card-meta">Data Visualization · BI Analytics</div>
          <p>Interactive dashboard for retail KPIs, revenue trends and store performance.</p>
          <p style="margin-top:10px"><a href="https://github.com/Raghavendra-varma-0909/RetailStoreSalesDashboard" target="_blank" rel="noopener noreferrer">GitHub →</a></p>
        </article>

        <!-- URL shortener with url.png thumb -->
        <article class="card project-card" data-category="web-development">
          <img class="project-thumb" src="url.png" alt="URL shortener thumbnail">
          <h3>URL Shortener</h3>
          <div class="card-meta">Flask · Redis · REST API</div>
          <p>Minimal URL shortener with redirect tracking and analytics dashboard.</p>
          <p style="margin-top:10px">
            <a href="https://github.com/Raghavendra-varma-0909/Url-Shortner" target="_blank" rel="noopener noreferrer">GitHub →</a>
          </p>
        </article>
      </div>
    </section>

    <!-- EXPERIENCE -->
    <section id="experience" data-avatar="avatar.png">
      <div class="section-title">EXPERIENCE</div>
      <div class="section-heading">
        Internships &amp; Practical Work
        <span class="mini-avatar" title="Experience badge" data-avatar="avatar.png"><span class="mini-inner"><img src="avatar.png" alt="exp mini"></span></span>
      </div>

      <div class="grid-2" style="grid-template-columns:repeat(3,1fr);gap:18px">
        <div class="card">
          <h3>Machine Learning Engineering Intern</h3>
          <div class="card-meta">Gilbert Research Centre · Jun 2025 – Oct 2025</div>
          <ul class="clean">
            <li>Built and deployed ML models for predictive analytics and research-based AI solutions.</li>
            <li>Optimized NLP pipelines, improving model performance by ~15%.</li>
          </ul>
        </div>

        <div class="card">
          <h3>Data Analyst Intern</h3>
          <div class="card-meta">Human Initials · May 2025 – Oct 2025</div>
          <ul class="clean">
            <li>Cleaned and analyzed large datasets to generate actionable business insights.</li>
            <li>Created Power BI dashboards to visualize key metrics and trends.</li>
          </ul>
        </div>

        <div class="card">
          <h3>Robotics Intern</h3>
          <div class="card-meta">JNTUH · May 2025 – Jun 2025</div>
          <ul class="clean">
            <li>Built obstacle-avoiding and line-following robots using Arduino.</li>
            <li>Worked on automation for smart mobility and navigation systems.</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- EDUCATION -->
    <section id="education" data-avatar="education.png">
      <div class="section-title">EDUCATION</div>
      <div class="section-heading">
        Where I'm learning the foundations.
        <span class="mini-avatar" title="Education badge" data-avatar="education.png"><span class="mini-inner"><img src="education.png" alt="edu mini"></span></span>
      </div>

      <div class="card">
        <h3>B.Tech – Computer Science &amp; Engineering (AI &amp; ML)</h3>
        <div class="card-meta">Sreenidhi Institute of Science and Technology (SNIST) · 2022 – 2026 · CGPA: 7.25</div>
        <ul class="clean"><li>Relevant coursework: Machine Learning, AI, Data Mining, Cloud Technologies</li></ul>
      </div>
    </section>

    <!-- CERTIFICATES -->
    <section id="certificates" data-avatar="certificates.png">
      <div class="section-title">CERTIFICATES</div>
      <div class="section-heading">
        Things I've completed formally.
        <span class="mini-avatar" title="Certificates badge" data-avatar="certificates.png"><span class="mini-inner"><img src="certificates.png" alt="cert mini"></span></span>
      </div>

      <div class="grid-2">
        <div class="card">Oracle Cloud – Generative AI (2025) — Professional – Distinction</div>
        <div class="card">Oracle Cloud – AI Foundations Associate (2025) — Score: 95%</div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" data-avatar="contact.png">
      <div class="section-title">CONTACT</div>
      <div class="section-heading">
        Let's build something together.
        <span class="mini-avatar" title="Contact badge" data-avatar="contact.png"><span class="mini-inner"><img src="contact.png" alt="contact mini"></span></span>
      </div>

      <div class="card contact-card">
        <p>I’m open to AI/ML internships and full-time opportunities. Reach out if you’d like to collaborate.</p>
        <ul class="clean">
          <li>Phone: +91 9121811030</li>
          <li>Email: <a href="mailto:aketiraghavendravarma@gmail.com" rel="noopener noreferrer">aketiraghavendravarma@gmail.com</a></li>
          <li>LinkedIn: <a href="https://www.linkedin.com/in/raghav-varma" target="_blank" rel="noopener noreferrer">linkedin.com/in/raghav-varma</a></li>
          <li>GitHub: <a href="https://github.com/Raghavendra-varma-0909" target="_blank" rel="noopener noreferrer">github.com/Raghavendra-varma-0909</a></li>
        </ul>
      </div>
    </section>
  </main>

  <footer>© <span id="year"></span> Aketi Raghavendra Varma · Built with HTML &amp; CSS</footer>

  <!-- Avatar modal -->
  <div id="avatarModal" style="position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.6);z-index:1200;padding:24px">
    <div style="background:linear-gradient(180deg,#071023,#020617);padding:18px;border-radius:12px;max-width:760px;width:calc(100% - 48px);display:flex;gap:18px;align-items:center;">
      <img src="avatar.png" alt="Aketi avatar" id="modalAvatar" style="width:320px;height:320px;border-radius:12px;object-fit:cover">
      <div style="color:var(--text)">
        <h3 style="margin-top:0">Aketi Raghavendra Varma</h3>
        <p style="color:var(--muted);margin:6px 0 12px 0">AI / ML Enthusiast · Computer Vision · Time-Series Forecasting</p>
        <p style="margin:0 0 12px 0">Hyderabad, Telangana · <a href="mailto:aketiraghavendravarma@gmail.com" rel="noopener noreferrer">aketiraghavendravarma@gmail.com</a></p>
        <div style="display:flex;gap:8px">
          <a href="#contact" class="filter-btn" style="border-radius:8px">Contact</a>
          <button id="modalCloseBtn" style="background:transparent;border:none;color:var(--muted);cursor:pointer">Close ✕</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>

  <script>
    // set year
    document.getElementById("year").textContent = new Date().getFullYear();

    /* Avatar tilt + modal + section avatar swapping + mini-avatar clicks */
    (function(){
      const ring = document.getElementById('avatarRing');
      const img = document.getElementById('avatarImg');
      const glow = document.getElementById('avatarGlow');
      const modal = document.getElementById('avatarModal');
      const modalCloseBtn = document.getElementById('modalCloseBtn');
      const modalAvatar = document.getElementById('modalAvatar');

      const maxTilt = 18, tiltScale = 1.05, releaseSpeed = 300;
      let bounds = null;
      function updateBounds(){ bounds = ring.getBoundingClientRect(); }

      function applyTilt(pageX,pageY){
        updateBounds();
        const cx = bounds.left + bounds.width/2;
        const cy = bounds.top + bounds.height/2;
        const dx = (pageX - cx) / (bounds.width/2);
        const dy = (pageY - cy) / (bounds.height/2);
        const clamp = v => Math.max(-1, Math.min(1, v));
        const rx = clamp(-dy) * maxTilt;
        const ry = clamp(dx) * maxTilt;
        ring.style.transform = `rotateX(${rx}deg) rotateY(${ry}deg) scale(${tiltScale})`;
        img.style.transform = `translateZ(24px) rotateX(${rx*0.18}deg) rotateY(${ry*0.18}deg)`;
        const gx = Math.round(((pageX - bounds.left) / bounds.width) * 100);
        const gy = Math.round(((pageY - bounds.top) / bounds.height) * 100);
        glow.style.setProperty('--gx', gx + '%');
        glow.style.setProperty('--gy', gy + '%');
      }

      function resetTilt(){
        ring.style.transition = `transform ${releaseSpeed}ms cubic-bezier(.2,.9,.2,1)`;
        img.style.transition = `transform ${releaseSpeed}ms cubic-bezier(.2,.9,.2,1)`;
        glow.style.transition = `background-position ${releaseSpeed}ms linear`;
        ring.style.transform = `rotateX(0deg) rotateY(0deg) scale(1)`;
        img.style.transform = `translateZ(0px)`;
        setTimeout(()=>{ ring.style.transition=''; img.style.transition=''; glow.style.transition=''; }, releaseSpeed+20);
      }

      ring.addEventListener('mousemove', (e)=>{ ring.classList.add('interacting'); applyTilt(e.pageX,e.pageY); });
      ring.addEventListener('mouseleave', resetTilt);
      ring.addEventListener('touchstart', (e)=>{ ring.classList.add('interacting'); const t=e.touches[0]; applyTilt(t.pageX,t.pageY); }, {passive:true});
      ring.addEventListener('touchmove', (e)=>{ const t=e.touches[0]; applyTilt(t.pageX,t.pageY); }, {passive:true});
      ring.addEventListener('touchend', resetTilt);

      ring.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' '){ e.preventDefault(); openModal(); }});
      ring.addEventListener('click', openModal);

      function openModal(){ modal.style.display='flex'; modalAvatar.src = img.src; document.body.style.overflow='hidden'; modalCloseBtn.focus(); }
      function closeModal(){ modal.style.display='none'; document.body.style.overflow=''; ring.focus(); }

      modalCloseBtn.addEventListener('click', closeModal);
      modal.addEventListener('click', (e)=>{ if(e.target===modal) closeModal(); });
      document.addEventListener('keydown', (e)=>{ if(e.key==='Escape' && modal.style.display==='flex') closeModal(); });
      window.addEventListener('resize', updateBounds);
      updateBounds();

      // IntersectionObserver: change hero avatar to the section's mini avatar when section enters view
      const sections = Array.from(document.querySelectorAll('main section[data-avatar]'));
      const options = { root: null, rootMargin: '0px', threshold: 0.55 };
      const onSectionIntersect = (entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const avatarSrc = entry.target.getAttribute('data-avatar') || 'avatar.png';
            img.src = avatarSrc;
            modalAvatar.src = avatarSrc;
          }
        });
      };
      const observer = new IntersectionObserver(onSectionIntersect, options);
      sections.forEach(s => observer.observe(s));

      // mini-avatar clicks: scroll + set hero avatar
      const miniAvatars = Array.from(document.querySelectorAll('.mini-avatar'));
      miniAvatars.forEach(el => {
        el.addEventListener('click', () => {
          const avatarSrc = el.getAttribute('data-avatar') || null;
          if (avatarSrc) { img.src = avatarSrc; modalAvatar.src = avatarSrc; }
          const parentSection = el.closest('section');
          if(parentSection) parentSection.scrollIntoView({behavior:'smooth', block:'start'});
        });
      });
    })();

    /* Projects filtering */
    (function(){
      const toolbar = document.querySelector('#projects .projects-toolbar');
      const projectCards = Array.from(document.querySelectorAll('#projects .project-card'));
      if(!toolbar) return;
      const btns = Array.from(toolbar.querySelectorAll('.filter-btn'));

      function setActive(btn){ btns.forEach(b=>b.classList.remove('active')); btn.classList.add('active'); }
      function applyFilter(category){
        projectCards.forEach(card=>{
          const cat = card.getAttribute('data-category');
          if(category === 'all' || category === cat) { card.classList.remove('hidden'); card.style.display = ''; }
          else { card.classList.add('hidden'); card.style.display = 'none'; }
        });
      }

      btns.forEach(btn => {
        btn.addEventListener('click', () => {
          setActive(btn);
          applyFilter(btn.getAttribute('data-filter'));
          const top = document.querySelector('#projects').offsetTop - 80;
          window.scrollTo({top,behavior:'smooth'});
        });
      });

      applyFilter('all');
    })();

    // Auto-fix any bare "www." hrefs (safety)
    (function(){
      document.querySelectorAll('a[href]').forEach(a=>{
        const href = a.getAttribute('href').trim();
        if(/^www\./i.test(href)){
          a.setAttribute('href', 'https://' + href);
          a.setAttribute('target','_blank');
          a.setAttribute('rel','noopener noreferrer');
        }
      });
    })();
  </script>
</body>
</html>
